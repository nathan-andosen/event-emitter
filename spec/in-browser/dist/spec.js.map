{"version":3,"sources":["webpack:///webpack/bootstrap 35c55aa72bac9c192963","webpack:///./spec/in-browser/index.js","webpack:///./spec/unit .spec$","webpack:///./spec/unit/event-emitter.spec.ts","webpack:///./src/index.ts","webpack:///./src/event-emitter.ts"],"names":[],"mappings":"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","file":"spec.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 35c55aa72bac9c192963","\n// Our webpack.unit.tests.config.js file uses this to require all unit test files\n// so they can be tested in a browser for debugging\n\n// require all test files\nvar testsContext = require.context('../unit', true, /.spec$/);\ntestsContext.keys().forEach(testsContext);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./spec/in-browser/index.js\n// module id = 0\n// module chunks = 0","var map = {\n\t\"./event-emitter.spec\": 2\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./spec/unit .spec$\n// module id = 1\n// module chunks = 0","import { \n  EventEmitter,\n  EventEmitterAbstract\n} from '../../src';\n\n/**\n * EventEmitter\n */\ndescribe('EventEmitter', () => {\n\n  /**\n   * emit()\n   */\n  describe('emit()', () => {\n    it('should emit an event', (done) => {\n      let eventEmitter = new EventEmitter();\n      eventEmitter.subscribe('custom-event', (data) => {\n        expect(data.val).toEqual(10);\n        done();\n      });\n      eventEmitter.emit('custom-event', { val: 10 });\n    });\n  });\n\n\n  /**\n   * subscribe() & unsubscribe();\n   */\n  describe('subscribe() && unsubscribe()', () => {\n    it('should subscribe and unsubscribe events', () => {\n      let eventEmitter = new EventEmitter();\n      let fnOne = () => {};\n      eventEmitter.subscribe('test', fnOne);\n      expect(eventEmitter['events']['test']).toBeDefined();\n      expect(eventEmitter['events']['test'].length).toEqual(1);\n      eventEmitter.unsubscribe('test', fnOne);\n      expect(eventEmitter['events']['test'].length).toEqual(0);\n    });\n  });\n});\n\n\n\n/**\n * EventEmitterAbstract\n */\ndescribe('EventEmitterAbstract', () => {\n  it('should extend EventEmitter and use events in another class', () => {\n    class MyClass extends EventEmitterAbstract {\n      public val: number = 0;\n\n      constructor() {\n        super();\n        this.event.subscribe('custom-event', this.listenForCustomEvent);\n      }\n\n      private listenForCustomEvent() {\n        this.val = 10;\n      }\n\n      doSomething() {\n        this.event.emit('custom-event', {});\n      }\n    }\n\n    let myClass = new MyClass();\n    myClass.doSomething();\n    expect(myClass.val).toEqual(10);\n  });\n});\n\n\n// WEBPACK FOOTER //\n// ./spec/unit/event-emitter.spec.ts","export * from './event-emitter';\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","/**\n * EventEmitter, emit and subscribe to events.\n * \n * @export\n * @class EventEmitter\n */\nexport class EventEmitter {\n  private events: any;\n  private scope: any;\n\n  \n  /**\n   * Creates an instance of EventEmitter.\n   * @param {*} [scope] The scope \"this\" will apply to\n   * @memberof EventEmitter\n   */\n  constructor(scope?: any) {\n    this.events = {};\n    this.scope = (scope) ? scope : null;\n  }\n\n\n  /**\n   * Generate a id\n   * \n   * @private\n   * @returns {string} \n   * @memberof EventEmitter\n   */\n  private generateId(): string {\n    return (Date.now().toString(36) + Math.random().toString(36).substr(2, 5))\n      .toUpperCase()\n  }\n\n\n  /**\n   * Emit an event\n   * \n   * @param {string} eventName \n   * @param {*} data \n   * @memberof EventEmitter\n   */\n  emit(eventName: string, data?: any) {\n    const events = this.events[eventName];\n    if(events) {\n      for(let i = 0; i < events.length; i++) {\n        events[i].call(this.scope, data);\n      }\n    }\n  }\n\n\n  /**\n   * Subscribe to an event\n   * \n   * @param {string} eventName \n   * @param {Function} fn \n   * @memberof EventEmitter\n   */\n  subscribe(eventName: string, fn: Function) {\n    if(!this.events[eventName]) {\n      this.events[eventName] = [];\n    }\n    fn['subscribeId'] = this.generateId();\n    this.events[eventName].push(fn);\n  }\n\n\n  /**\n   * Unsubscribe to an event\n   * \n   * @param {string} eventName \n   * @param {Function} fn \n   * @memberof EventEmitter\n   */\n  unsubscribe(eventName: string, fn: Function) {\n    if(!fn['subscribeId']) { return; }\n    if(this.events[eventName]) {\n      for(let i = 0; i < this.events[eventName].length; i++) {\n        if(this.events[eventName][i]['subscribeId'] === fn['subscribeId']) {\n          this.events[eventName].splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n}\n\n\n/**\n * An abstract class that can be extend to add the ability to emit and \n * subscribe to custom events\n * \n * @export\n * @abstract\n * @class EventEmitterAbstract\n */\nexport abstract class EventEmitterAbstract {\n  protected event: EventEmitter = null;\n  \n  constructor() {\n    this.event = new EventEmitter(this);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/event-emitter.ts"],"sourceRoot":""}